<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Skadoosh's Hub</title>
  <link rel="shortcut icon" href="https://static.wikia.nocookie.net/great-characters/images/6/6e/Scoobert.png/revision/latest?cb=20181102135349" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
      background: url('https://images.unsplash.com/photo-1557683316-973673baf926?w=1920&h=1080&fit=crop') center/cover fixed;
      height: 100vh;
      overflow: hidden;
    }

    #account-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(40px);
      z-index: 10001;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.5s;
    }

    .account-container {
      text-align: center;
      width: 400px;
      max-width: 90%;
      background: rgba(28, 28, 30, 0.9);
      backdrop-filter: blur(40px);
      border-radius: 16px;
      padding: 40px;
      border: 1px solid rgba(76, 175, 80, 0.3);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .account-title {
      font-size: 32px;
      font-weight: 700;
      background: linear-gradient(135deg, #4CAF50 0%, #66ffa1 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 8px;
    }

    .account-subtitle {
      font-size: 15px;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 32px;
    }

    .avatar-selector { margin-bottom: 32px; }
    
    .avatar-label {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 12px;
      display: block;
    }

    .avatar-options {
      display: flex;
      justify-content: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .avatar-option {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      cursor: pointer;
      border: 3px solid transparent;
      transition: all 0.3s;
      object-fit: cover;
    }

    .avatar-option:hover {
      transform: scale(1.1);
      border-color: rgba(76, 175, 80, 0.5);
    }

    .avatar-option.selected {
      border-color: #4CAF50;
      box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.2);
      transform: scale(1.05);
    }

    .input-group { margin-bottom: 20px; text-align: left; }
    
    .input-label {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 8px;
      display: block;
      font-weight: 500;
    }

    .account-input {
      width: 100%;
      height: 44px;
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(76, 175, 80, 0.2);
      border-radius: 8px;
      padding: 0 16px;
      color: #fff;
      font-size: 15px;
      outline: none;
      transition: all 0.3s;
    }

    .account-input:focus {
      background: rgba(255, 255, 255, 0.12);
      border-color: #4CAF50;
      box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.2);
    }

    .account-input::placeholder { color: rgba(255, 255, 255, 0.4); }

    .account-button {
      width: 100%;
      height: 48px;
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      border: none;
      border-radius: 8px;
      color: #fff;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 8px;
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
    }

    .account-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
    }

    .error-message {
      color: #ff5f57;
      font-size: 13px;
      margin-top: 8px;
      display: none;
    }

    .success-message {
      color: #4CAF50;
      font-size: 13px;
      margin-top: 8px;
      display: none;
    }

    .password-strength { margin-top: 8px; font-size: 12px; }
    
    .strength-bar {
      height: 4px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 2px;
      margin-top: 4px;
      overflow: hidden;
    }

    .strength-fill {
      height: 100%;
      width: 0%;
      transition: all 0.3s;
      border-radius: 2px;
    }

    .strength-weak { background: #ff5f57; width: 33%; }
    .strength-medium { background: #ffbd2e; width: 66%; }
    .strength-strong { background: #4CAF50; width: 100%; }
    
    .strength-text {
      color: rgba(255, 255, 255, 0.6);
      margin-top: 4px;
    }

    #login-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(40px);
      z-index: 10001;
      display: none;
      align-items: center;
      justify-content: center;
    }

    .login-container { text-align: center; }
    
    .login-avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      margin: 0 auto 24px;
      box-shadow: 0 8px 32px rgba(76, 175, 80, 0.4);
      border: 4px solid #4CAF50;
      object-fit: cover;
    }

    .login-name {
      font-size: 28px;
      font-weight: 600;
      color: #fff;
      margin-bottom: 24px;
    }

    .login-input {
      width: 300px;
      height: 44px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(76, 175, 80, 0.3);
      border-radius: 8px;
      padding: 0 16px;
      color: #fff;
      font-size: 15px;
      outline: none;
      transition: all 0.3s;
      margin-bottom: 16px;
    }

    .login-input:focus {
      background: rgba(255, 255, 255, 0.2);
      border-color: #4CAF50;
      box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.2);
    }

    .login-button {
      width: 300px;
      height: 44px;
      background: #4CAF50;
      border: none;
      border-radius: 8px;
      color: #fff;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .login-button:hover {
      background: #45a049;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
    }

    .login-error {
      color: #ff5f57;
      font-size: 13px;
      margin-top: 8px;
      display: none;
    }

    #intro {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 10000;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 0.5s;
    }

    #strongdog, #xp {
      font-size: 5em;
      font-weight: 700;
      opacity: 0;
      animation: fadeInSlam 1s ease forwards;
      letter-spacing: -2px;
    }

    #strongdog {
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    #xp {
      color: #4CAF50;
      animation-delay: 0.5s;
      font-size: 3em;
      margin-top: 20px;
    }

    @keyframes fadeInSlam {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.15); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }

    #uploadedImage {
      width: 200px;
      height: 200px;
      opacity: 0;
      animation: growAndSettle 1s ease forwards;
      border-radius: 50%;
      box-shadow: 0 20px 60px rgba(76, 175, 80, 0.6);
      margin-top: 40px;
      object-fit: cover;
    }

    @keyframes growAndSettle {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.1); opacity: 1; }
      75% { transform: scale(0.95); }
      100% { transform: scale(1); opacity: 1; }
    }

    .menu-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 24px;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(40px);
      border-bottom: 0.5px solid rgba(76, 175, 80, 0.2);
      display: none;
      align-items: center;
      padding: 0 12px;
      color: #fff;
      font-size: 13px;
      z-index: 9999;
    }

    .menu-item {
      padding: 0 12px;
      cursor: pointer;
      transition: background 0.2s;
      height: 100%;
      display: flex;
      align-items: center;
    }

    .menu-item:hover { background: rgba(76, 175, 80, 0.2); }
    .menu-item.logo { font-size: 16px; color: #4CAF50; }
    .menu-item.cloaking { color: #4CAF50; font-weight: 500; }
    .menu-right { margin-left: auto; display: flex; gap: 16px; align-items: center; }
    .time { font-variant-numeric: tabular-nums; }

    #cloaking-menu {
      position: fixed;
      top: 24px;
      left: 100px;
      background: rgba(28, 28, 30, 0.95);
      backdrop-filter: blur(40px);
      border: 1px solid rgba(76, 175, 80, 0.3);
      border-radius: 8px;
      padding: 8px;
      display: none;
      flex-direction: column;
      gap: 4px;
      z-index: 10000;
      min-width: 200px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    }

    #cloaking-menu.show { display: flex; }

    .cloak-option {
      padding: 8px 12px;
      color: #fff;
      font-size: 13px;
      cursor: pointer;
      border-radius: 4px;
      transition: background 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .cloak-option:hover { background: rgba(76, 175, 80, 0.2); }
    .cloak-icon {
      width: 16px;
      height: 16px;
      border-radius: 3px;
      background: #4CAF50;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
    }

    .desktop {
      position: fixed;
      top: 24px;
      left: 0;
      right: 0;
      bottom: 70px;
      padding: 20px;
      display: none;
      grid-template-columns: repeat(auto-fill, 100px);
      grid-auto-rows: 100px;
      gap: 20px;
      align-content: start;
    }

    .desktop-icon {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      padding: 8px;
      border-radius: 8px;
      transition: all 0.2s;
    }

    .desktop-icon:hover { background: rgba(76, 175, 80, 0.1); }

    .icon-img {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      color: white;
      box-shadow: 0 4px 16px rgba(76, 175, 80, 0.4);
    }

    .icon-name {
      color: #fff;
      font-size: 11px;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
      text-align: center;
    }

    .dock {
      position: fixed;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(40px);
      border: 0.5px solid rgba(76, 175, 80, 0.3);
      border-radius: 16px;
      padding: 4px 12px;
      display: none;
      gap: 8px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      z-index: 9998;
    }

    .dock-item {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
      color: white;
      font-size: 24px;
      position: relative;
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
    }

    .dock-item:hover {
      transform: translateY(-8px) scale(1.1);
      box-shadow: 0 8px 20px rgba(76, 175, 80, 0.5);
    }

    .dock-separator {
      width: 1px;
      height: 56px;
      background: rgba(76, 175, 80, 0.3);
      margin: 0 4px;
    }

    .window {
      position: fixed;
      background: rgba(36, 36, 38, 0.95);
      backdrop-filter: blur(40px);
      border-radius: 12px;
      box-shadow: 0 20px 80px rgba(0, 0, 0, 0.6);
      border: 0.5px solid rgba(76, 175, 80, 0.2);
      overflow: hidden;
      display: none;
    }

    .window.active { display: flex; flex-direction: column; }

    .window-titlebar {
      height: 40px;
      background: rgba(50, 50, 52, 0.9);
      border-bottom: 0.5px solid rgba(76, 175, 80, 0.1);
      display: flex;
      align-items: center;
      padding: 0 12px;
      cursor: move;
    }

    .window-controls { display: flex; gap: 8px; }
    .window-control {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      cursor: pointer;
      transition: filter 0.2s;
    }
    .window-control:hover { filter: brightness(1.2); }
    .window-control.close { background: #ff5f57; }
    .window-control.minimize { background: #ffbd2e; }
    .window-control.maximize { background: #4CAF50; }

    .window-title {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      color: #f5f5f7;
      font-size: 13px;
      font-weight: 500;
    }

    #browser-window {
      width: 80%;
      height: 80%;
      top: 10%;
      left: 10%;
    }

    .browser-toolbar {
      height: 50px;
      background: rgba(58, 58, 60, 0.8);
      border-bottom: 0.5px solid rgba(76, 175, 80, 0.1);
      display: flex;
      align-items: center;
      padding: 0 12px;
      gap: 12px;
    }

    .browser-button {
      width: 32px;
      height: 32px;
      border-radius: 6px;
      background: rgba(76, 175, 80, 0.1);
      border: none;
      color: #4CAF50;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .browser-button:hover {
      background: rgba(76, 175, 80, 0.2);
      color: #66ffa1;
    }

    .address-bar {
      flex: 1;
      height: 32px;
      background: rgba(72, 72, 74, 0.6);
      border: 1px solid rgba(76, 175, 80, 0.2);
      border-radius: 6px;
      padding: 0 12px;
      color: #f5f5f7;
      font-size: 13px;
      outline: none;
    }

    .address-bar:focus {
      border-color: #4CAF50;
      box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
    }

    .browser-page {
      height: calc(100% - 90px);
      background: #1c1c1e;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .browser-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px;
    }

    .browser-content.hidden { display: none; }

    #proxy-iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: white;
      display: none;
    }

    #proxy-iframe.active { display: block; }

    .browser-welcome {
      font-size: 48px;
      font-weight: 700;
      background: linear-gradient(135deg, #4CAF50 0%, #66ffa1 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
      text-align: center;
    }

    .browser-bookmarks {
      display: flex;
      gap: 24px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .bookmark-card {
      width: 180px;
      padding: 24px;
      background: rgba(58, 58, 60, 0.6);
      border: 1px solid rgba(76, 175, 80, 0.2);
      border-radius: 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .bookmark-card:hover {
      transform: translateY(-4px);
      background: rgba(72, 72, 74, 0.7);
      box-shadow: 0 8px 24px rgba(76, 175, 80, 0.3);
      border-color: #4CAF50;
    }

    .bookmark-icon-large {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      color: white;
      margin: 0 auto 16px;
    }

    .bookmark-title {
      font-size: 16px;
      font-weight: 600;
      color: #f5f5f7;
      margin-bottom: 8px;
    }

    .bookmark-url {
      font-size: 11px;
      color: #86868b;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  </style>
</head>
<body>
  <div id="account-screen">
    <div class="account-container">
      <div class="account-title">Create Your Account</div>
      <div class="account-subtitle">Welcome to Skadoosh's Hub</div>

      <div class="avatar-selector">
        <label class="avatar-label">Choose Your Avatar</label>
        <div class="avatar-options">
          <img class="avatar-option" src="https://static.wikia.nocookie.net/great-characters/images/6/6e/Scoobert.png/revision/latest?cb=20181102135349" onclick="selectAvatar(this)">
          <img class="avatar-option" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" onclick="selectAvatar(this)">
          <img class="avatar-option" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Aneka" onclick="selectAvatar(this)">
          <img class="avatar-option" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Buddy" onclick="selectAvatar(this)">
        </div>
      </div>

      <div class="input-group">
        <label class="input-label">Username</label>
        <input type="text" class="account-input" id="username-input" placeholder="Enter your username" maxlength="20">
        <div class="error-message" id="username-error">Username must be at least 3 characters</div>
      </div>

      <div class="input-group">
        <label class="input-label">Password</label>
        <input type="password" class="account-input" id="password-input" placeholder="Create a password">
        <div class="password-strength">
          <div class="strength-bar">
            <div class="strength-fill" id="strength-fill"></div>
          </div>
          <div class="strength-text" id="strength-text"></div>
        </div>
        <div class="error-message" id="password-error">Password must be at least 6 characters</div>
      </div>

      <button class="account-button" onclick="createAccount()">Create Account</button>
      <div class="success-message" id="success-message">Account created successfully!</div>
    </div>
  </div>

  <div id="login-screen">
    <div class="login-container">
      <img class="login-avatar" id="login-avatar" src="https://static.wikia.nocookie.net/great-characters/images/6/6e/Scoobert.png/revision/latest?cb=20181102135349">
      <div class="login-name" id="login-name">User</div>
      <input type="password" class="login-input" id="login-password-input" placeholder="Enter Password">
      <button class="login-button" onclick="login()">Log In</button>
      <div class="login-error" id="login-error">Incorrect password</div>
    </div>
  </div>

  <div id="intro">
    <div id="strongdog">Skadoosh's Hub!</div>
    <div id="xp">THE BEST!</div>
    <img id="uploadedImage" src="https://static.wikia.nocookie.net/great-characters/images/6/6e/Scoobert.png/revision/latest?cb=20181102135349">
  </div>

  <div class="menu-bar" id="menu-bar">
    <div class="menu-item logo">🐕</div>
    <div class="menu-item"><strong>Finder</strong></div>
    <div class="menu-item">File</div>
    <div class="menu-item">Edit</div>
    <div class="menu-item">View</div>
    <div class="menu-item">Go</div>
    <div class="menu-item">Window</div>
    <div class="menu-item cloaking" onclick="toggleCloakingMenu()">Tab Cloak</div>
    <div class="menu-item">Help</div>
    <div class="menu-right">
      <div class="menu-item"><i class="fas fa-wifi"></i></div>
      <div class="menu-item"><i class="fas fa-battery-three-quarters"></i></div>
      <div class="menu-item time" id="time">12:00 PM</div>
    </div>
  </div>

  <div id="cloaking-menu">
    <div class="cloak-option" onclick="cloakTab('google')">
      <div class="cloak-icon">G</div>
      <span>Google</span>
    </div>
    <div class="cloak-option" onclick="cloakTab('classroom')">
      <div class="cloak-icon">📚</div>
      <span>Google Classroom</span>
    </div>
    <div class="cloak-option" onclick="cloakTab('drive')">
      <div class="cloak-icon">📁</div>
      <span>Google Drive</span>
    </div>
    <div class="cloak-option" onclick="cloakTab('gmail')">
      <div class="cloak-icon">✉️</div>
      <span>Gmail</span>
    </div>
    <div class="cloak-option" onclick="aboutBlank()">
      <div class="cloak-icon">⚡</div>
      <span>about:blank</span>
    </div>
    <div class="cloak-option" onclick="resetTab()">
      <div class="cloak-icon">🔄</div>
      <span>Reset Tab</span>
    </div>
  </div>

  <div class="desktop" id="desktop">
    <div class="desktop-icon" onclick="openWindow('browser')">
      <div class="icon-img">🌐</div>
      <div class="icon-name">Browser</div>
    </div>
    <div class="desktop-icon" onclick="alert('Coming soon!')">
      <div class="icon-img">📱</div>
      <div class="icon-name">Apps</div>
    </div>
    <div class="desktop-icon" onclick="alert('Coming soon!')">
      <div class="icon-img">🎮</div>
      <div class="icon-name">Games</div>
    </div>
    <div class="desktop-icon" onclick="alert('Coming soon!')">
      <div class="icon-img">⚙️</div>
      <div class="icon-name">Settings</div>
    </div>
  </div>

  <div class="dock" id="dock">
    <div class="dock-item" onclick="alert('Coming soon!')" title="Games">
      <i class="fas fa-gamepad"></i>
    </div>
    <div class="dock-separator"></div>
    <div class="dock-item" onclick="alert('Coming soon!')" title="Settings">
      <i class="fas fa-gear"></i>
    </div>
  </div>

  <div class="window" id="browser-window">
    <div class="window-titlebar">
      <div class="window-controls">
        <div class="window-control close" onclick="closeWindow('browser')"></div>
        <div class="window-control minimize"></div>
        <div class="window-control maximize" onclick="maximizeWindow('browser')"></div>
      </div>
      <div class="window-title">Skadoosh Browser</div>
    </div>
    <div class="browser-toolbar">
      <button class="browser-button" onclick="alert('Add proxy on GitHub Pages')"><i class="fas fa-arrow-left"></i></button>
      <button class="browser-button" onclick="alert('Add proxy on GitHub Pages')"><i class="fas fa-arrow-right"></i></button>
      <button class="browser-button" onclick="alert('Add proxy on GitHub Pages')"><i class="fas fa-rotate-right"></i></button>
      <input type="text" class="address-bar" id="address-bar" placeholder="Search Google or type URL" value="skadoosh://home">
      <button class="browser-button" onclick="searchOrNavigate()"><i class="fas fa-arrow-right"></i></button>
    </div>
    <div class="browser-page">
      <iframe id="proxy-iframe"></iframe>
      <div class="browser-content" id="browser-home">
        <div class="browser-welcome">Welcome to Skadoosh Browser</div>
        <div class="browser-bookmarks" id="bookmarks"></div>
      </div>
    </div>
  </div>

  <script>
    let selectedAvatar = 'https://static.wikia.nocookie.net/great-characters/images/6/6e/Scoobert.png/revision/latest?cb=20181102135349';
    let userData = {};

    function selectAvatar(element) {
      document.querySelectorAll('.avatar-option').forEach(av => av.classList.remove('selected'));
      element.classList.add('selected');
      selectedAvatar = element.src;
    }

    document.querySelector('.avatar-option').classList.add('selected');

    document.getElementById('password-input').addEventListener('input', function() {
      const password = this.value;
      const strengthFill = document.getElementById('strength-fill');
      const strengthText = document.getElementById('strength-text');
      
      if (password.length === 0) {
        strengthFill.className = 'strength-fill';
        strengthText.textContent = '';
        return;
      }
      
      let strength = 0;
      if (password.length >= 6) strength++;
      if (password.length >= 10) strength++;
      if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;
      if (/\d/.test(password)) strength++;
      if (/[^a-zA-Z\d]/.test(password)) strength++;
      
      strengthFill.className = 'strength-fill';
      if (strength <= 2) {
        strengthFill.classList.add('strength-weak');
        strengthText.textContent = 'Weak password';
        strengthText.style.color = '#ff5f57';
      } else if (strength <= 3) {
        strengthFill.classList.add('strength-medium');
        strengthText.textContent = 'Medium password';
        strengthText.style.color = '#ffbd2e';
      } else {
        strengthFill.classList.add('strength-strong');
        strengthText.textContent = 'Strong password';
        strengthText.style.color = '#4CAF50';
      }
    });

    function createAccount() {
      const username = document.getElementById('username-input').value.trim();
      const password = document.getElementById('password-input').value;
      const usernameError = document.getElementById('username-error');
      const passwordError = document.getElementById('password-error');
      const successMessage = document.getElementById('success-message');
      
      let isValid = true;
      
      if (username.length < 3) {
        usernameError.style.display = 'block';
        document.getElementById('username-input').style.borderColor = '#ff5f57';
        isValid = false;
      } else {
        usernameError.style.display = 'none';
        document.getElementById('username-input').style.borderColor = '';
      }
      
      if (password.length < 6) {
        passwordError.style.display = 'block';
        document.getElementById('password-input').style.borderColor = '#ff5f57';
        isValid = false;
      } else {
        passwordError.style.display = 'none';
        document.getElementById('password-input').style.borderColor = '';
      }
      
      if (!isValid) return;
      
      userData = { username, password, avatar: selectedAvatar };
      localStorage.setItem('skadooshUser', JSON.stringify(userData));
      
      successMessage.style.display = 'block';
      
      setTimeout(() => {
        document.getElementById('account-screen').style.opacity = '0';
        setTimeout(() => {
          document.getElementById('account-screen').style.display = 'none';
          showLoginScreen();
        }, 500);
      }, 1000);
    }

    function showLoginScreen() {
      const user = JSON.parse(localStorage.getItem('skadooshUser'));
      if (user) {
        document.getElementById('login-avatar').src = user.avatar;
        document.getElementById('login-name').textContent = user.username;
      }
      document.getElementById('login-screen').style.display = 'flex';
    }

    function login() {
      const password = document.getElementById('login-password-input').value;
      const user = JSON.parse(localStorage.getItem('skadooshUser'));
      
      if (password === user.password) {
        document.getElementById('login-screen').style.opacity = '0';
        setTimeout(() => {
          document.getElementById('login-screen').style.display = 'none';
          startIntro();
        }, 500);
      } else {
        document.getElementById('login-error').style.display = 'block';
        document.getElementById('login-password-input').value = '';
        setTimeout(() => {
          document.getElementById('login-error').style.display = 'none';
        }, 2000);
      }
    }

    document.getElementById('login-password-input').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') login();
    });

    document.getElementById('password-input').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') createAccount();
    });

    function startIntro() {
      const user = JSON.parse(localStorage.getItem('skadooshUser'));
      document.getElementById('intro').style.display = 'flex';
      document.getElementById('uploadedImage').src = user.avatar;
      
      setTimeout(() => {
        document.getElementById('strongdog').style.opacity = '0';
        document.getElementById('xp').style.opacity = '0';
      }, 1500);

      setTimeout(() => {
        document.getElementById('intro').style.opacity = '0';
        setTimeout(() => {
          document.getElementById('intro').remove();
          showDesktop();
        }, 500);
      }, 3200);
    }

    function showDesktop() {
      document.getElementById('menu-bar').style.display = 'flex';
      document.getElementById('desktop').style.display = 'grid';
      document.getElementById('dock').style.display = 'flex';

      const bookmarks = [
        { name: 'Google', url: 'https://www.google.com' },
        { name: 'YouTube', url: 'https://www.youtube.com' },
        { name: 'Discord', url: 'https://discord.com' }
      ];

      const bookmarksContainer = document.getElementById('bookmarks');
      bookmarks.forEach(bm => {
        const card = document.createElement('div');
        card.className = 'bookmark-card';
        card.onclick = () => window.open(bm.url, '_blank');
        card.innerHTML = `
          <div class="bookmark-icon-large">${bm.name.charAt(0)}</div>
          <div class="bookmark-title">${bm.name}</div>
          <div class="bookmark-url">${bm.url}</div>
        `;
        bookmarksContainer.appendChild(card);
      });
    }

    function searchOrNavigate() {
      let url = document.getElementById('address-bar').value.trim();
      if (!url || url === 'skadoosh://home') return;
      
      if (!url.startsWith('http://') && !url.startsWith('https://')) {
        if (url.includes(' ') || !url.includes('.')) {
          url = 'https://www.google.com/search?q=' + encodeURIComponent(url);
        } else {
          url = 'https://' + url;
        }
      }
      window.open(url, '_blank');
    }

    document.getElementById('address-bar').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') searchOrNavigate();
    });

    window.addEventListener('load', () => {
      const user = localStorage.getItem('skadooshUser');
      if (user) {
        document.getElementById('account-screen').style.display = 'none';
        showLoginScreen();
      }
    });

    function toggleCloakingMenu() {
      document.getElementById('cloaking-menu').classList.toggle('show');
    }

    document.addEventListener('click', (e) => {
      const menu = document.getElementById('cloaking-menu');
      const cloakButton = document.querySelector('.menu-item.cloaking');
      if (menu && !menu.contains(e.target) && e.target !== cloakButton) {
        menu.classList.remove('show');
      }
    });

    function cloakTab(type) {
      const cloaks = {
        google: { title: 'Google', favicon: 'https://www.google.com/favicon.ico' },
        classroom: { title: 'Home', favicon: 'https://ssl.gstatic.com/classroom/favicon.png' },
        drive: { title: 'My Drive - Google Drive', favicon: 'https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_32dp.png' },
        gmail: { title: 'Gmail', favicon: 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico' }
      };

      const cloak = cloaks[type];
      if (cloak) {
        document.title = cloak.title;
        let link = document.querySelector("link[rel*='icon']");
        if (!link) {
          link = document.createElement('link');
          link.rel = 'shortcut icon';
          document.head.appendChild(link);
        }
        link.href = cloak.favicon;
      }
      document.getElementById('cloaking-menu').classList.remove('show');
    }

    function aboutBlank() {
      const win = window.open('about:blank', '_blank');
      if (win) {
        win.document.write(`
          <!DOCTYPE html>
          <html>
            <head><title>about:blank</title>
              <style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:hidden}
              iframe{border:none;width:100%;height:100%}</style>
            </head>
            <body><iframe src="${window.location.href}"></iframe></body>
          </html>
        `);
        win.document.close();
      }
      document.getElementById('cloaking-menu').classList.remove('show');
    }

    function resetTab() {
      document.title = "Skadoosh's Hub";
      let link = document.querySelector("link[rel*='icon']");
      if (link) link.href = 'https://static.wikia.nocookie.net/great-characters/images/6/6e/Scoobert.png/revision/latest?cb=20181102135349';
      document.getElementById('cloaking-menu').classList.remove('show');
    }

    function updateTime() {
      const now = new Date();
      const hours = now.getHours() % 12 || 12;
      const minutes = now.getMinutes().toString().padStart(2, '0');
      const ampm = now.getHours() >= 12 ? 'PM' : 'AM';
      const timeEl = document.getElementById('time');
      if (timeEl) timeEl.textContent = `${hours}:${minutes} ${ampm}`;
    }
    setInterval(updateTime, 1000);
    updateTime();

    function openWindow(id) {
      document.getElementById(id + '-window').classList.add('active');
    }

    function closeWindow(id) {
      document.getElementById(id + '-window').classList.remove('active');
    }

    function maximizeWindow(id) {
      const win = document.getElementById(id + '-window');
      if (win.style.width === '100%') {
        win.style.width = '80%';
        win.style.height = '80%';
        win.style.top = '10%';
        win.style.left = '10%';
      } else {
        win.style.width = '100%';
        win.style.height = 'calc(100% - 24px)';
        win.style.top = '24px';
        win.style.left = '0';
      }
    }

    document.querySelectorAll('.window').forEach(win => {
      const titlebar = win.querySelector('.window-titlebar');
      let isDragging = false, currentX, currentY, initialX, initialY;

      titlebar.addEventListener('mousedown', (e) => {
        isDragging = true;
        initialX = e.clientX - win.offsetLeft;
        initialY = e.clientY - win.offsetTop;
      });

      document.addEventListener('mousemove', (e) => {
        if (isDragging) {
          e.preventDefault();
          win.style.left = (e.clientX - initialX) + 'px';
          win.style.top = (e.clientY - initialY) + 'px';
        }
      });

      document.addEventListener('mouseup', () => isDragging = false);
    });
  </script>
</body>
</html> onclick="openWindow('browser')" title="Browser">
      <i class="fas fa-compass"></i>
    </div>
    <div class="dock-item" onclick="alert('Coming soon!')" title="Apps">
      <i class="fas fa-grid-2"></i>
    </div>
    <div class="dock-item"
